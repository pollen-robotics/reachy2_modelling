<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/gospar/workspaces_ros2/orbita2d_ws/install/orbita2d_description/share/orbita2d_description/urdf/test_orbita2d.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="test_orbita2d">
  <!-- URDF definition is so stupid we have to do that... -->
  <!-- <material name="gripperblack"> -->
  <!--     <color rgba="0.4 0.4 0.4 1"/> -->
  <!-- </material> -->
  <!-- <material name="gripperwhite"> -->
  <!--     <color rgba="0.9 0.9 0.9 1"/> -->
  <!-- </material> -->
  <!-- <material name="reachy_yellow"> -->
  <!--     <color rgba="0.8 0.8 0.0 1"/> -->
  <!-- </material> -->
  <!-- <material name="reachy_grey"> -->
  <!--     <color rgba="0.8 0.8 0.8 1"/> -->
  <!-- </material> -->
  <!-- <material name="reachy_metal"> -->
  <!--     <color rgba="0.85 0.85 0.85 1.0"/> -->
  <!-- </material> -->
  <!-- <material name="torsoblack"> -->
  <!--     <color rgba="0.5 0.5 0.5 1.0"/> -->
  <!-- </material> -->
  <!-- <material name="eyewhite"> -->
  <!--     <color rgba="1.0 1.0 1.0 1.0"/> -->
  <!-- </material> -->
  <!-- <material name="orbita2dmetal"> -->
  <!--     <color rgba="0.85 0.85 0.85 1.0"/> -->
  <!-- </material> -->
  <!-- <material name="orbita2dgrey"> -->
  <!--     <color rgba="0.8 0.8 0.8 1.0"/> -->
  <!-- </material> -->
  <!-- <material name="orbita3d_yellow"> -->
  <!--     <color rgba="0.8 0.8 0.0 1"/> -->
  <!-- </material> -->
  <!-- <material name="orbita3d_grey"> -->
  <!--     <color rgba="0.8 0.8 0.8 1"/> -->
  <!-- </material> -->
  <!-- <material name="orbita2dmetal"> -->
  <!--     <color rgba="0.85 0.85 0.85 1.0"/> -->
  <!-- </material> -->
  <!-- <material name="orbita2dgrey"> -->
  <!--     <color rgba="0.8 0.8 0.8 1.0"/> -->
  <!-- </material> -->
  <!-- MODEL PARAMETERS -->
  <material name="torsoblack">
    <color rgba="0.5 0.5 0.5 1.0"/>
  </material>
  <link name="world"/>
  <joint name="world_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 1.0"/>
    <parent link="world"/>
    <child link="torso"/>
  </joint>
  <!-- TORSO -->
  <link name="torso">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.5"/>
      <geometry>
        <cylinder length="1" radius="0.03"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0.0 0" xyz="-0.05 0 -0.05"/>
      <geometry>
        <box size="0.1 0.2 0.22"/>
      </geometry>
      <!-- <origin xyz="0 0 -0.5" rpy="0 0 0"/> -->
      <!-- <geometry> -->
      <!--   <cylinder length="1" radius="0.03"/> -->
      <!-- </geometry> -->
      <material name="torsoblack"/>
    </visual>
    <inertial>
      <mass value="10"/>
      <origin rpy="0 0 0" xyz="0 0 0.5"/>
      <inertia ixx="0.8354166666666666" ixy="0.0" ixz="0.0" iyy="0.8354166666666666" iyz="0.0" izz="0.0041666666666666675"/>
    </inertial>
  </link>
  <gazebo reference="torso">
    <material>Gazebo/Black</material>
    <static>true</static>
  </gazebo>
  <!-- TORSO -->
  <!--
      Orbita 2 dof

    link                      (joint)

    ${parent}                 (${name}_joint1)
      ${name}_dummy_link      (${name}_joint2)
        ${name}_link          (${name}_ball_joint)
          ${name}_ball_link
    -->
  <link name="shoulder_dummy_link">
    <inertial>
      <mass value="0.005"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="3.416666666666667e-05" ixy="0.0" ixz="0.0" iyy="3.416666666666667e-05" iyz="0.0" izz="3e-06"/>
    </inertial>
  </link>
  <joint name="shoulder_pitch" type="revolute">
    <origin rpy="0 0 0.2617993877991494" xyz="-0.0479 -0.1913 0.025"/>
    <parent link="torso"/>
    <child link="shoulder_dummy_link"/>
    <axis xyz="0 1 0"/>
    <limit effort="1000.0" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="100.0"/>
    <safety_controller k_position="500" k_velocity="500" soft_lower_limit="-3.1415" soft_upper_limit="3.1415"/>
    <dynamics damping="0.1" friction="0.1"/>
  </joint>
  <link name="shoulder_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.14"/>
      <geometry>
        <!-- <cylinder length="${length}" radius="${radius}"/> -->
        <box size="0.075 0.06 0.28"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.14"/>
      <geometry>
        <!-- <cylinder length="${length}" radius="${radius}"/> -->
        <box size="0.075 0.06 0.28"/>
      </geometry>
      <material name="orbita2dmetal">
        <color rgba="0.85 0.85 0.85 1.0"/>
      </material>
    </visual>
    <inertial>
      <mass value="0.245"/>
      <origin rpy="0 0 0" xyz="0 0 -0.14"/>
      <inertia ixx="0.001674166666666667" ixy="0.0" ixz="0.0" iyy="0.001674166666666667" iyz="0.0" izz="0.000147"/>
    </inertial>
  </link>
  <joint name="shoulder_roll" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="shoulder_dummy_link"/>
    <child link="shoulder_link"/>
    <axis xyz="1 0 0"/>
    <limit effort="1000.0" lower="-1.5707963267948966" upper="0.0" velocity="100.0"/>
    <safety_controller k_position="500" k_velocity="500" soft_lower_limit="-3.1415" soft_upper_limit="3.1415"/>
    <dynamics damping="0.1" friction="0.1"/>
  </joint>
  <gazebo reference="shoulder_link">
    <material>Gazebo/Orange</material>
  </gazebo>
  <link name="shoulder_ball_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.036"/>
      </geometry>
      <material name="orbita2dgrey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.036"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.25"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.00012959999999999998" ixy="0.0" ixz="0.0" iyy="0.00012959999999999998" iyz="0.0" izz="0.00012959999999999998"/>
    </inertial>
  </link>
  <joint name="shoulder_ball_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="shoulder_link"/>
    <child link="shoulder_ball_link"/>
  </joint>
  <ros2_control name="shoulder" type="system">
    <hardware>
      <plugin>orbita2d_system_hwi/Orbita2dSystem</plugin>
      <param name="config_file">/home/gospar/workspaces_ros2/orbita2d_ws/install/orbita2d_description/share/orbita2d_description/config/fake.yaml</param>
    </hardware>
    <gpio name="shoulder">
      <state_interface name="torque">
        <param name="initial_value">0.0</param>
      </state_interface>
      <command_interface name="torque"/>
    </gpio>
    <joint name="shoulder_pitch">
      <state_interface name="position">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="velocity">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="effort">
        <param name="initial_value">0.0</param>
      </state_interface>
      <command_interface name="position"/>
    </joint>
    <joint name="shoulder_roll">
      <state_interface name="position">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="velocity">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="effort">
        <param name="initial_value">0.0</param>
      </state_interface>
      <command_interface name="position"/>
    </joint>
    <gpio name="shoulder_raw_motor_1">
      <state_interface name="speed_limit"/>
      <command_interface name="speed_limit"/>
      <state_interface name="torque_limit"/>
      <command_interface name="torque_limit"/>
      <state_interface name="p_gain"/>
      <command_interface name="p_gain"/>
      <state_interface name="i_gain"/>
      <command_interface name="i_gain"/>
      <state_interface name="d_gain"/>
      <command_interface name="d_gain"/>
    </gpio>
    <gpio name="shoulder_raw_motor_2">
      <state_interface name="speed_limit"/>
      <command_interface name="speed_limit"/>
      <state_interface name="torque_limit"/>
      <command_interface name="torque_limit"/>
      <state_interface name="p_gain"/>
      <command_interface name="p_gain"/>
      <state_interface name="i_gain"/>
      <command_interface name="i_gain"/>
      <state_interface name="d_gain"/>
      <command_interface name="d_gain"/>
    </gpio>
  </ros2_control>
  <link name="tip">
    <visual>
      <origin rpy="0 0.0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.05"/>
      </geometry>
    </visual>
  </link>
  <joint name="tip_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 -0.3"/>
    <parent link="shoulder_ball_link"/>
    <child link="tip"/>
  </joint>
</robot>
